{
  "customerId": "9ce61f116fe7007bf805d2d64c9f6fe7",
  "flowStatus": "enabled",
  "currentVersion": 1,
  "publishedVersion": 1,
  "name": "PingOne Security Question and Answer Validation subflow",
  "description": "Imported on Fri Mar 01 2024 21:47:09 GMT+0000 (Coordinated Universal Time)",
  "createdDate": 1709329651227,
  "updatedDate": 1709329651329,
  "deployedDate": 1709329651329,
  "enabledGraphData": {
    "boxSelectionEnabled": true,
    "data": {},
    "elements": {
      "edges": [
        {
          "classes": "",
          "data": {
            "id": "7ikahw4ox1",
            "source": "kospqzm7v2",
            "target": "76f5jr2jz3"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "j2nvtiqvub",
            "source": "b4yq41plyh",
            "target": "kospqzm7v2"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "0592y2ehfx",
            "multiValueSourceId": "j9x1wfxdd4",
            "source": "6wyepwnxww",
            "target": "aoesxcfh7z"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 64,
            "y": 52
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "i6khjcb4t5",
            "source": "8qrnpcmeud",
            "target": "nl2lr3169z"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "s3tc7dnu2u",
            "source": "shueidp1iu",
            "target": "6wyepwnxww"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "0s7o6i7c5z",
            "source": "aoesxcfh7z",
            "target": "8qrnpcmeud"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "0rghqh5mhu",
            "source": "76f5jr2jz3",
            "target": "shueidp1iu"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "3cvki659yy",
            "source": "nl2lr3169z",
            "target": "x22igq4eqe"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "t7d4k0o04s",
            "source": "nl2lr3169z",
            "target": "922c0l5tvr"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "b5eqpn4fk8",
            "multiValueSourceId": "4jpwzq7aob",
            "source": "6wyepwnxww",
            "target": "ggq0nin4b8"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 64,
            "y": 92
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "i36vers685",
            "source": "ggq0nin4b8",
            "target": "yucpjbw3rj"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "sl04j1l8t8",
            "multiValueSourceId": "-1",
            "source": "6wyepwnxww",
            "target": "gq67gxjv12"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 64,
            "y": 132
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "j6e2ltj4xx",
            "source": "gq67gxjv12",
            "target": "soycnvmku9"
          },
          "grabbable": true,
          "group": "edges",
          "locked": false,
          "pannable": true,
          "position": {
            "x": 0,
            "y": 0
          },
          "removed": false,
          "selectable": true,
          "selected": false
        }
      ],
      "nodes": [
        {
          "classes": "",
          "data": {
            "capabilityName": "customFunction",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "id": "b4yq41plyh",
            "label": "Functions",
            "name": "Functions",
            "nodeType": "CONNECTION",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({ params }) =\u003e {\n const inputObj = params.securityQA;\n  const questionSet = [];\n\n   Object.keys(inputObj)\n    .filter((key) =\u003e key.startsWith(\"question\"))\n    .forEach((key, index) =\u003e {\n      const questionNumber = key.replace(\"question\", \"\");\n\n      // Create a new object with the corresponding question, answer, and questionIndex\n      const questionObject = {\n        question: inputObj[key],\n        answer: inputObj[`answer${questionNumber}`],\n        questionIndex: index + 1,\n      };\n\n      // Push the new object to the result array\n      questionSet.push(questionObject);\n    });\n\n  // Return the resulting JSON array\n  return {'questionSet' : questionSet}\n}\n"
              },
              "nodeTitle": {
                "value": "Parse Security Q\u0026A"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"questionSet\": {\n\t\t\t\t\"type\": \"object\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "securityQA",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"securityQA\",\n        \"data\": \"{{global.parameters.securityQA}}\",\n        \"tooltip\": \"{{global.parameters.securityQA}}\",\n        \"children\": [\n          {\n            \"text\": \"securityQA\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            },
            "status": "configured",
            "type": "trigger"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 394,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "kospqzm7v2",
            "nodeType": "EVAL"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 544,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "customHTMLTemplate",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "id": "76f5jr2jz3",
            "idUnique": "iw08t4rzhn",
            "label": "Http",
            "name": "Http",
            "nodeType": "CONNECTION",
            "properties": {
              "backgroundColor": {
                "value": "#afd5ffff"
              },
              "buttonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Submit\"\n      }\n    ]\n  }\n]"
              },
              "buttonLabel2": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Cancel\"\n      }\n    ]\n  }\n]"
              },
              "customCSS": {
                "value": ":root {\n  --animation-dimension: 120px;\n  --animation-start-color: #71e171;\n  --animation-midway-color: #67d067;\n  --animation-finish-color: #59b259;\n}\n\n.checkmark {\n  width: var(--animation-dimension);\n  height: var(--animation-dimension);\n  border-radius: 50%;\n  display: block;\n  stroke-width: 5;\n  stroke: #ffffff;\n  stroke-miterlimit: 10;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\n  animation: fill 0.4s ease-in-out 0.4s forwards,\n    scale 0.3s ease-in-out 0.9s both;\n}\n\n.checkmarkCircle {\n  stroke-dasharray: 166;\n  stroke-dashoffset: 166;\n  stroke-width: 5;\n  stroke-miterlimit: 10;\n  stroke: var(--animation-finish-color);\n  fill: none;\n  animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards,\n    colorChange 1.2s ease-in-out forwards;\n}\n\n.checkmarkCheck {\n  transform-origin: 50% 50%;\n  stroke-dasharray: 48;\n  stroke-dashoffset: 48;\n  animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards,\n    colorChange 0.6s ease-in-out 0.8s forwards;\n}\n\n@keyframes colorChange {\n  0% {\n    stroke: var(--animation-start-color);\n  }\n  50% {\n    stroke: var(--animation-midway-color);\n  } \n  100% {\n    stroke: var(--animation-finish-color);\n  }\n}\n\n@keyframes stroke {\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n@keyframes scale {\n  0%,\n  100% {\n    transform: none;\n  }\n  50% {\n    transform: scale3d(1.1, 1.1, 1);\n  }\n  70% {\n    transform: scale3d(0.98, 0.98, 1);\n  }\n  85% {\n    transform: scale3d(1.02, 1.02, 1);\n  }\n}\n@keyframes fill {\n  100% {\n    box-shadow: inset 0px 0px 0px 0px var(--animation-finish-color);\n  }\n}"
              },
              "customHTML": {
                "value": "\u003cdiv class=\"end-user-nano\"\u003e\n    \u003cdiv\n        class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\"\u003e\n        \u003cdiv style=\"max-width: 400px; min-width: 400px; width: 100%\"\u003e\n            \u003cdiv class=\"card shadow mb-5\"\u003e\n                \u003cdiv class=\"card-body p-5 d-flex flex-column\"\u003e\n                    \u003cimg class=\"companyLogo align-self-center mb-5\" alt=\"{{global.variables.companyName}}\" /\u003e\n\n                {{#if title}}\n                    \u003ch1 class=\"text-center mb-4\"\u003e{{title}}\u003c/h1\u003e\n                    {{/if}}\n\n                    {{#if textOne}}\n                    \u003cp class=\"text-muted text-center\"\u003e{{textOne}}\u003c/p\u003e\n                    {{/if}}\n\n                    {{#if textTwo}}\n                    \u003cp class=\"text-muted text-center\"\u003e{{textTwo}}\u003c/p\u003e\n                    {{/if}}\n\n                    \u003cp class=\"text-danger mdi mdi-alert-circle\" data-id=\"feedback\" data-skcomponent=\"skerror\"\u003e\u003c/p\u003e\n\n                    \u003cform id=\"securityQA\"\u003e\n\n                        \u003cdiv class=\"mb-3 row selectBox\"\u003e\n                            \u003clabel for=\"Question\" class=\"col-sm-5 col-form-label\"\u003e\u003cspan\u003eSelect Question\u003c/span\u003e\u003cspan class=\"starRed\"\u003e*\u003c/span\u003e\u003c/label\u003e\n                            \u003cdiv class=\"col-sm-7\"\u003e\n                                \u003cselect class=\"form-select\" id=\"selectQuestion\" aria-label=\"Default select\"\u003e\n                                \u003coption selected\u003eselect\u003c/option\u003e\n                                {{#each questionSet}}\n                                    \u003coption value=\"{{question}}\"\u003e{{question}}\u003c/option\u003e\n                                {{/each}}\n                            \u003c/select\u003e\n                            \u003c/div\u003e\n                        \u003c/div\u003e\n                        \u003cdiv class=\"mb-4 form-floating\"\u003e\n                            \u003cinput class=\"form-control\" type=\"text\" id=\"answer\" name=\"answer\" placeholder=\"answer\"\n                            autocomplete=\"off\" value=\"\" data-id=\"answer-input\" /\u003e\n                            \u003clabel class=\"form-label\" for=\"answer\"\u003eAnswer\u003c/label\u003e\n                        \u003c/div\u003e\n                        {{#if buttonLabel}}\n                        \u003cdiv class=\"d-flex flex-column\"\u003e\n                            \u003cbutton id=\"submitBtn\" data-id=\"submitBtn\" class=\"btn btn-primary mb-3\" type=\"submit\" data-skcomponent=\"skbutton\" data-skform=\"securityQA\"\n                            data-skbuttontype=\"form-submit\"  data-skbuttonvalue=\"SUBMIT\" \u003e\n                            {{buttonLabel}}\n                            \u003c/button\u003e\n                        \u003c/div\u003e\n                        {{/if}}\n                        {{#if buttonLabel2}}\n                        \u003cdiv class=\"d-flex flex-column\"\u003e\n                            \u003cbutton id=\"cancelBtn\" data-id=\"cancelBtn\" class=\"btn btn-link mb-3\" type=\"submit\" data-skcomponent=\"skbutton\" data-skform=\"securityQA\"\n                            data-skbuttontype=\"next-event\" data-skbuttonvalue=\"CANCEL\" \u003e\n                            {{buttonLabel2}}\n                            \u003c/button\u003e\n                        \u003c/div\u003e\n                        {{/if}}\n                    \u003c/form\u003e\n\n\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/div\u003e"
              },
              "customScript": {},
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"submit\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "hashedVisibility": false,
                    "preferredControlType": "dropDown",
                    "preferredDataType": "number",
                    "propertyName": "selectQuestion",
                    "value": ""
                  },
                  {
                    "hashedVisibility": false,
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "answer",
                    "value": ""
                  }
                ]
              },
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"title\": {\n            \"type\": \"string\",\n            \"displayName\": \"Title\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"title\"\n        },\n\t\"textOne\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text One\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textOne\"\n        },\n\t\"textTwo\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text Two\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textTwo\"\n        },\n        \"buttonLabel\": {\n            \"type\": \"string\",\n            \"displayName\": \"Button Label\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"buttonLabel\"\n        },\n        \"buttonLabel2\": {\n            \"type\": \"string\",\n            \"displayName\": \"Button Label2\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"buttonLabel2\"\n        },\n         \"questionSet\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"question\": {\n                    \"displayName\": \"question\",\n                    \"preferedControlType\": \"textField\",\n                    \"enableParameters\": true\n                },\n                \"questionIndex\": {\n                    \"displayName\": \"questionIndex\",\n                    \"preferedControlType\": \"textField\",\n                    \"enableParameters\": true\n                }\n            }\n        }\n    }\n}"
              },
              "nodeDescription": {
                "value": "A form for the user to submit the username of the account they forgot the password to"
              },
              "nodeTitle": {
                "value": "Security Q\u0026A Form"
              },
              "questionSet": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"questionSet\",\n        \"data\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"tooltip\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"children\": [\n          {\n            \"text\": \"questionSet\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "textOne": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"Choose your security question and provide the answer\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "textTwo": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"Security Questions\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "validationRules": {
                "value": []
              }
            },
            "status": "configured",
            "type": "trigger"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 694,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "shueidp1iu",
            "label": "Evaluator",
            "nodeType": "EVAL"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 844,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "AEqualsMultipleB",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "id": "6wyepwnxww",
            "label": "Functions",
            "name": "Functions",
            "nodeType": "CONNECTION",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.76f5jr2jz3.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.76f5jr2jz3.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "id": "j9x1wfxdd4",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SUBMIT\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "id": "4jpwzq7aob",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            },
            "status": "configured",
            "type": "trigger"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 994,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "aoesxcfh7z",
            "label": "Evaluator",
            "nodeType": "EVAL"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1174,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "customFunction",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "id": "8qrnpcmeud",
            "label": "Functions",
            "name": "Functions",
            "nodeType": "CONNECTION",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({ params }) =\u003e {\n  const inputObj = params.questionSet;\n  const inputQuestion = params.inputQuestion;\n  const inputAnswer = params.inputAnswer;\n\n  // Find the question object based on the input question\n  const questionObj = inputObj.find(obj =\u003e obj.question === inputQuestion);\n\n  if (questionObj) {\n    const actualAnswer = questionObj.answer;\n\n    // Convert both answers to lowercase for case-insensitive comparison\n    const lowercasedActualAnswer = actualAnswer.toLowerCase();\n    const lowercasedInputAnswer = inputAnswer.trim().toLowerCase(); // Trim leading/trailing spaces\n\n    // Compare the lowercase input answer against the lowercase actual answer\n    if (lowercasedActualAnswer === lowercasedInputAnswer)\n    {\n    return;\n    } else\n    {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n"
              },
              "nodeTitle": {
                "value": "Compare Answers"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"isAnswerCorrect\": {\n\t\t\t\t\"type\": \"boolean\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "questionSet",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"questionSet\",\n        \"data\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"tooltip\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"children\": [\n          {\n            \"text\": \"questionSet\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "inputAnswer",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"answer\",\n        \"data\": \"{{local.76f5jr2jz3.payload.output.answer}}\",\n        \"tooltip\": \"{{local.76f5jr2jz3.payload.output.answer}}\",\n        \"children\": [\n          {\n            \"text\": \"answer\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "inputQuestion",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"selectQuestion\",\n        \"data\": \"{{local.76f5jr2jz3.payload.output.selectQuestion}}\",\n        \"tooltip\": \"{{local.76f5jr2jz3.payload.output.selectQuestion}}\",\n        \"children\": [\n          {\n            \"text\": \"selectQuestion\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            },
            "status": "configured",
            "type": "trigger"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1324,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "nl2lr3169z",
            "label": "Evaluator",
            "nodeType": "EVAL",
            "properties": {
              "922c0l5tvr": {
                "value": "anyTriggersFalse"
              },
              "d59jawjmab": {
                "value": "anyTriggersFalse"
              },
              "pkzo9jdt54": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1474,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "createSuccessResponse",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "id": "x22igq4eqe",
            "label": "Http",
            "name": "Http",
            "nodeType": "CONNECTION",
            "properties": {
              "backgroundColor": {
                "value": "#9dc967ff"
              },
              "nodeTitle": {
                "value": "Success"
              }
            },
            "status": "configured",
            "type": "action"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1684,
            "y": 424
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "customErrorMessage",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "id": "922c0l5tvr",
            "label": "Error Customize",
            "name": "Error Message",
            "nodeType": "CONNECTION",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Answer Invalid\"\n      }\n    ]\n  }\n]"
              }
            },
            "status": "configured",
            "type": "action"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1684,
            "y": 544
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "ggq0nin4b8",
            "label": "Evaluator",
            "nodeType": "EVAL"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1174,
            "y": 544
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "createErrorResponse",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "id": "yucpjbw3rj",
            "label": "Http",
            "name": "Http",
            "nodeType": "CONNECTION",
            "properties": {
              "backgroundColor": {
                "value": "#ffc8c1ff"
              },
              "nodeTitle": {
                "value": "Cancel button "
              },
              "returnRequestParameters": {
                "value": false
              }
            },
            "status": "configured",
            "type": "action"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1324,
            "y": 544
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "customErrorMessage",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "id": "soycnvmku9",
            "idUnique": "5eqcyjitc4",
            "label": "Error Customize",
            "name": "Error Message",
            "nodeType": "CONNECTION",
            "properties": {
              "errorCode": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Unexpected password state\"\n      }\n    ]\n  }\n]"
              },
              "errorDescription": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"An unexpected password state was received\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"An unexpected error has occurred\"\n      }\n    ]\n  }\n]"
              },
              "errorReason": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Received an unexpected password state value from PingOne\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": "Received an unexpected value for the password status"
              },
              "nodeTitle": {
                "value": "Received an unexpected value"
              }
            },
            "status": "configured",
            "type": "action"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1324,
            "y": 694
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "id": "gq67gxjv12",
            "nodeType": "EVAL"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 1144,
            "y": 694
          },
          "removed": false,
          "selectable": true,
          "selected": false
        },
        {
          "classes": "",
          "data": {
            "capabilityName": "updateAnnotationProperties",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "id": "fmghoh064q",
            "name": "Annotation",
            "nodeType": "ANNOTATION",
            "properties": {
              "annotation": {
                "value": "Security questions for MFA"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "backgroundColor": {
                "value": "#4462edff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 16
              },
              "fontStyle": {
                "value": "bold"
              },
              "width": {
                "value": 1800
              }
            },
            "status": "configured",
            "type": "action"
          },
          "grabbable": true,
          "group": "nodes",
          "locked": false,
          "pannable": false,
          "position": {
            "x": 214,
            "y": 214
          },
          "removed": false,
          "selectable": true,
          "selected": false
        }
      ]
    },
    "maxZoom": 1e+50,
    "minZoom": 1e-50,
    "pan": {
      "x": 0,
      "y": 0
    },
    "panningEnabled": true,
    "renderer": {
      "name": "null"
    },
    "userPanningEnabled": true,
    "userZoomingEnabled": true,
    "zoom": 1,
    "zoomingEnabled": true
  },
  "inputSchemaCompiled": {
    "parameters": {
      "additionalProperties": false,
      "properties": {
        "p1UserId": {
          "description": "PingOne User Id",
          "isExpanded": true,
          "name": "p1UserId",
          "preferredDataType": "string",
          "type": "string"
        },
        "securityQA": {
          "description": "",
          "isExpanded": true,
          "name": "securityQA",
          "preferredDataType": "object",
          "type": "object"
        }
      },
      "required": [
        "p1UserId"
      ],
      "type": "object"
    }
  },
  "isInputSchemaSaved": true,
  "settings": {
    "csp": "worker-src 'self' blob:; script-src 'self' https://cdn.jsdelivr.net https://code.jquery.com https://devsdk.singularkey.com http://cdnjs.cloudflare.com 'unsafe-inline' 'unsafe-eval';",
    "cssLinks": [
      "https://assets.pingone.com/ux/end-user-nano/0.1.0-alpha.1/end-user-nano.css",
      "https://assets.pingone.com/ux/astro-nano/0.1.0-alpha.10/icons.css"
    ],
    "intermediateLoadingScreenCSS": "",
    "intermediateLoadingScreenHTML": "",
    "logLevel": 2,
    "useCustomCSS": true
  },
  "trigger": {},
  "flowId": "fbe7d6528113b7d3e1297894601b5f63",
  "companyId": "586df9f8-f4f8-4ac0-97ab-50fcea486b1c",
  "graphData": {
    "elements": {
      "nodes": [
        {
          "data": {
            "id": "b4yq41plyh",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({ params }) =\u003e {\n const inputObj = params.securityQA;\n  const questionSet = [];\n\n   Object.keys(inputObj)\n    .filter((key) =\u003e key.startsWith(\"question\"))\n    .forEach((key, index) =\u003e {\n      const questionNumber = key.replace(\"question\", \"\");\n\n      // Create a new object with the corresponding question, answer, and questionIndex\n      const questionObject = {\n        question: inputObj[key],\n        answer: inputObj[`answer${questionNumber}`],\n        questionIndex: index + 1,\n      };\n\n      // Push the new object to the result array\n      questionSet.push(questionObject);\n    });\n\n  // Return the resulting JSON array\n  return {'questionSet' : questionSet}\n}\n"
              },
              "nodeTitle": {
                "value": "Parse Security Q\u0026A"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"questionSet\": {\n\t\t\t\t\"type\": \"object\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "securityQA",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"securityQA\",\n        \"data\": \"{{global.parameters.securityQA}}\",\n        \"tooltip\": \"{{global.parameters.securityQA}}\",\n        \"children\": [\n          {\n            \"text\": \"securityQA\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 394,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kospqzm7v2",
            "nodeType": "EVAL",
            "properties": null
          },
          "position": {
            "x": 544,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "76f5jr2jz3",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "backgroundColor": {
                "value": "#afd5ffff"
              },
              "buttonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Submit\"\n      }\n    ]\n  }\n]"
              },
              "buttonLabel2": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Cancel\"\n      }\n    ]\n  }\n]"
              },
              "customCSS": {
                "value": ":root {\n  --animation-dimension: 120px;\n  --animation-start-color: #71e171;\n  --animation-midway-color: #67d067;\n  --animation-finish-color: #59b259;\n}\n\n.checkmark {\n  width: var(--animation-dimension);\n  height: var(--animation-dimension);\n  border-radius: 50%;\n  display: block;\n  stroke-width: 5;\n  stroke: #ffffff;\n  stroke-miterlimit: 10;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\n  animation: fill 0.4s ease-in-out 0.4s forwards,\n    scale 0.3s ease-in-out 0.9s both;\n}\n\n.checkmarkCircle {\n  stroke-dasharray: 166;\n  stroke-dashoffset: 166;\n  stroke-width: 5;\n  stroke-miterlimit: 10;\n  stroke: var(--animation-finish-color);\n  fill: none;\n  animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards,\n    colorChange 1.2s ease-in-out forwards;\n}\n\n.checkmarkCheck {\n  transform-origin: 50% 50%;\n  stroke-dasharray: 48;\n  stroke-dashoffset: 48;\n  animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards,\n    colorChange 0.6s ease-in-out 0.8s forwards;\n}\n\n@keyframes colorChange {\n  0% {\n    stroke: var(--animation-start-color);\n  }\n  50% {\n    stroke: var(--animation-midway-color);\n  } \n  100% {\n    stroke: var(--animation-finish-color);\n  }\n}\n\n@keyframes stroke {\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n@keyframes scale {\n  0%,\n  100% {\n    transform: none;\n  }\n  50% {\n    transform: scale3d(1.1, 1.1, 1);\n  }\n  70% {\n    transform: scale3d(0.98, 0.98, 1);\n  }\n  85% {\n    transform: scale3d(1.02, 1.02, 1);\n  }\n}\n@keyframes fill {\n  100% {\n    box-shadow: inset 0px 0px 0px 0px var(--animation-finish-color);\n  }\n}"
              },
              "customHTML": {
                "value": "\u003cdiv class=\"end-user-nano\"\u003e\n    \u003cdiv\n        class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\"\u003e\n        \u003cdiv style=\"max-width: 400px; min-width: 400px; width: 100%\"\u003e\n            \u003cdiv class=\"card shadow mb-5\"\u003e\n                \u003cdiv class=\"card-body p-5 d-flex flex-column\"\u003e\n                    \u003cimg class=\"companyLogo align-self-center mb-5\" alt=\"{{global.variables.companyName}}\" /\u003e\n\n                {{#if title}}\n                    \u003ch1 class=\"text-center mb-4\"\u003e{{title}}\u003c/h1\u003e\n                    {{/if}}\n\n                    {{#if textOne}}\n                    \u003cp class=\"text-muted text-center\"\u003e{{textOne}}\u003c/p\u003e\n                    {{/if}}\n\n                    {{#if textTwo}}\n                    \u003cp class=\"text-muted text-center\"\u003e{{textTwo}}\u003c/p\u003e\n                    {{/if}}\n\n                    \u003cp class=\"text-danger mdi mdi-alert-circle\" data-id=\"feedback\" data-skcomponent=\"skerror\"\u003e\u003c/p\u003e\n\n                    \u003cform id=\"securityQA\"\u003e\n\n                        \u003cdiv class=\"mb-3 row selectBox\"\u003e\n                            \u003clabel for=\"Question\" class=\"col-sm-5 col-form-label\"\u003e\u003cspan\u003eSelect Question\u003c/span\u003e\u003cspan class=\"starRed\"\u003e*\u003c/span\u003e\u003c/label\u003e\n                            \u003cdiv class=\"col-sm-7\"\u003e\n                                \u003cselect class=\"form-select\" id=\"selectQuestion\" aria-label=\"Default select\"\u003e\n                                \u003coption selected\u003eselect\u003c/option\u003e\n                                {{#each questionSet}}\n                                    \u003coption value=\"{{question}}\"\u003e{{question}}\u003c/option\u003e\n                                {{/each}}\n                            \u003c/select\u003e\n                            \u003c/div\u003e\n                        \u003c/div\u003e\n                        \u003cdiv class=\"mb-4 form-floating\"\u003e\n                            \u003cinput class=\"form-control\" type=\"text\" id=\"answer\" name=\"answer\" placeholder=\"answer\"\n                            autocomplete=\"off\" value=\"\" data-id=\"answer-input\" /\u003e\n                            \u003clabel class=\"form-label\" for=\"answer\"\u003eAnswer\u003c/label\u003e\n                        \u003c/div\u003e\n                        {{#if buttonLabel}}\n                        \u003cdiv class=\"d-flex flex-column\"\u003e\n                            \u003cbutton id=\"submitBtn\" data-id=\"submitBtn\" class=\"btn btn-primary mb-3\" type=\"submit\" data-skcomponent=\"skbutton\" data-skform=\"securityQA\"\n                            data-skbuttontype=\"form-submit\"  data-skbuttonvalue=\"SUBMIT\" \u003e\n                            {{buttonLabel}}\n                            \u003c/button\u003e\n                        \u003c/div\u003e\n                        {{/if}}\n                        {{#if buttonLabel2}}\n                        \u003cdiv class=\"d-flex flex-column\"\u003e\n                            \u003cbutton id=\"cancelBtn\" data-id=\"cancelBtn\" class=\"btn btn-link mb-3\" type=\"submit\" data-skcomponent=\"skbutton\" data-skform=\"securityQA\"\n                            data-skbuttontype=\"next-event\" data-skbuttonvalue=\"CANCEL\" \u003e\n                            {{buttonLabel2}}\n                            \u003c/button\u003e\n                        \u003c/div\u003e\n                        {{/if}}\n                    \u003c/form\u003e\n\n\n                \u003c/div\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/div\u003e"
              },
              "customScript": {},
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"submit\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "hashedVisibility": false,
                    "preferredControlType": "dropDown",
                    "preferredDataType": "number",
                    "propertyName": "selectQuestion",
                    "value": ""
                  },
                  {
                    "hashedVisibility": false,
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "answer",
                    "value": ""
                  }
                ]
              },
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"title\": {\n            \"type\": \"string\",\n            \"displayName\": \"Title\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"title\"\n        },\n\t\"textOne\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text One\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textOne\"\n        },\n\t\"textTwo\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text Two\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textTwo\"\n        },\n        \"buttonLabel\": {\n            \"type\": \"string\",\n            \"displayName\": \"Button Label\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"buttonLabel\"\n        },\n        \"buttonLabel2\": {\n            \"type\": \"string\",\n            \"displayName\": \"Button Label2\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"buttonLabel2\"\n        },\n         \"questionSet\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"question\": {\n                    \"displayName\": \"question\",\n                    \"preferedControlType\": \"textField\",\n                    \"enableParameters\": true\n                },\n                \"questionIndex\": {\n                    \"displayName\": \"questionIndex\",\n                    \"preferedControlType\": \"textField\",\n                    \"enableParameters\": true\n                }\n            }\n        }\n    }\n}"
              },
              "nodeDescription": {
                "value": "A form for the user to submit the username of the account they forgot the password to"
              },
              "nodeTitle": {
                "value": "Security Q\u0026A Form"
              },
              "questionSet": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"questionSet\",\n        \"data\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"tooltip\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"children\": [\n          {\n            \"text\": \"questionSet\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "textOne": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"Choose your security question and provide the answer\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "textTwo": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"Security Questions\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "validationRules": {
                "value": []
              }
            }
          },
          "position": {
            "x": 694,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "shueidp1iu",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": null
          },
          "position": {
            "x": 844,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6wyepwnxww",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.76f5jr2jz3.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.76f5jr2jz3.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "id": "j9x1wfxdd4",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SUBMIT\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "id": "4jpwzq7aob",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 994,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "aoesxcfh7z",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": null
          },
          "position": {
            "x": 1174,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8qrnpcmeud",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({ params }) =\u003e {\n  const inputObj = params.questionSet;\n  const inputQuestion = params.inputQuestion;\n  const inputAnswer = params.inputAnswer;\n\n  // Find the question object based on the input question\n  const questionObj = inputObj.find(obj =\u003e obj.question === inputQuestion);\n\n  if (questionObj) {\n    const actualAnswer = questionObj.answer;\n\n    // Convert both answers to lowercase for case-insensitive comparison\n    const lowercasedActualAnswer = actualAnswer.toLowerCase();\n    const lowercasedInputAnswer = inputAnswer.trim().toLowerCase(); // Trim leading/trailing spaces\n\n    // Compare the lowercase input answer against the lowercase actual answer\n    if (lowercasedActualAnswer === lowercasedInputAnswer)\n    {\n    return;\n    } else\n    {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n"
              },
              "nodeTitle": {
                "value": "Compare Answers"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"isAnswerCorrect\": {\n\t\t\t\t\"type\": \"boolean\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "questionSet",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"questionSet\",\n        \"data\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"tooltip\": \"{{local.b4yq41plyh.payload.output.questionSet}}\",\n        \"children\": [\n          {\n            \"text\": \"questionSet\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "inputAnswer",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"answer\",\n        \"data\": \"{{local.76f5jr2jz3.payload.output.answer}}\",\n        \"tooltip\": \"{{local.76f5jr2jz3.payload.output.answer}}\",\n        \"children\": [\n          {\n            \"text\": \"answer\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "inputQuestion",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"selectQuestion\",\n        \"data\": \"{{local.76f5jr2jz3.payload.output.selectQuestion}}\",\n        \"tooltip\": \"{{local.76f5jr2jz3.payload.output.selectQuestion}}\",\n        \"children\": [\n          {\n            \"text\": \"selectQuestion\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 1324,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "nl2lr3169z",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "922c0l5tvr": {
                "value": "anyTriggersFalse"
              },
              "d59jawjmab": {
                "value": "anyTriggersFalse"
              },
              "pkzo9jdt54": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1474,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "x22igq4eqe",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createSuccessResponse",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#9dc967ff"
              },
              "nodeTitle": {
                "value": "Success"
              }
            }
          },
          "position": {
            "x": 1684,
            "y": 424
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "922c0l5tvr",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Answer Invalid\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1684,
            "y": 544
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ggq0nin4b8",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": null
          },
          "position": {
            "x": 1174,
            "y": 544
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yucpjbw3rj",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createErrorResponse",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#ffc8c1ff"
              },
              "nodeTitle": {
                "value": "Cancel button "
              },
              "returnRequestParameters": {
                "value": false
              }
            }
          },
          "position": {
            "x": 1324,
            "y": 544
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "soycnvmku9",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorCode": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Unexpected password state\"\n      }\n    ]\n  }\n]"
              },
              "errorDescription": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"An unexpected password state was received\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"An unexpected error has occurred\"\n      }\n    ]\n  }\n]"
              },
              "errorReason": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Received an unexpected password state value from PingOne\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": "Received an unexpected value for the password status"
              },
              "nodeTitle": {
                "value": "Received an unexpected value"
              }
            }
          },
          "position": {
            "x": 1324,
            "y": 694
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gq67gxjv12",
            "nodeType": "EVAL",
            "properties": null
          },
          "position": {
            "x": 1144,
            "y": 694
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fmghoh064q",
            "nodeType": "ANNOTATION",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "name": "Annotation",
            "status": "configured",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "annotation": {
                "value": "Security questions for MFA"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "backgroundColor": {
                "value": "#4462edff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 16
              },
              "fontStyle": {
                "value": "bold"
              },
              "width": {
                "value": 1800
              }
            }
          },
          "position": {
            "x": 214,
            "y": 214
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        }
      ],
      "edges": [
        {
          "data": {
            "id": "7ikahw4ox1",
            "source": "kospqzm7v2",
            "target": "76f5jr2jz3"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "j2nvtiqvub",
            "source": "b4yq41plyh",
            "target": "kospqzm7v2"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0592y2ehfx",
            "source": "6wyepwnxww",
            "target": "aoesxcfh7z",
            "multiValueSourceId": "j9x1wfxdd4"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "i6khjcb4t5",
            "source": "8qrnpcmeud",
            "target": "nl2lr3169z"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s3tc7dnu2u",
            "source": "shueidp1iu",
            "target": "6wyepwnxww"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0s7o6i7c5z",
            "source": "aoesxcfh7z",
            "target": "8qrnpcmeud"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0rghqh5mhu",
            "source": "76f5jr2jz3",
            "target": "shueidp1iu"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3cvki659yy",
            "source": "nl2lr3169z",
            "target": "x22igq4eqe"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "t7d4k0o04s",
            "source": "nl2lr3169z",
            "target": "922c0l5tvr"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "b5eqpn4fk8",
            "source": "6wyepwnxww",
            "target": "ggq0nin4b8",
            "multiValueSourceId": "4jpwzq7aob"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "i36vers685",
            "source": "ggq0nin4b8",
            "target": "yucpjbw3rj"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sl04j1l8t8",
            "source": "6wyepwnxww",
            "target": "gq67gxjv12",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "j6e2ltj4xx",
            "source": "gq67gxjv12",
            "target": "soycnvmku9"
          },
          "position": {},
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        }
      ]
    },
    "data": {},
    "zoomingEnabled": true,
    "userZoomingEnabled": true,
    "zoom": 1,
    "minZoom": 1e-50,
    "maxZoom": 1e+50,
    "panningEnabled": true,
    "userPanningEnabled": true,
    "pan": {},
    "boxSelectionEnabled": true,
    "renderer": {
      "name": "null"
    }
  },
  "inputSchema": [
    {
      "description": "PingOne User Id",
      "isExpanded": true,
      "preferredControlType": "textField",
      "preferredDataType": "string",
      "propertyName": "p1UserId",
      "required": true
    },
    {
      "description": "",
      "isExpanded": true,
      "preferredControlType": "textField",
      "preferredDataType": "object",
      "propertyName": "securityQA"
    }
  ],
  "outputSchema": {},
  "outputSchemaCompiled": {},
  "flowColor": "#E3F0FF",
  "connectorIds": [
    "functionsConnector",
    "httpConnector",
    "errorConnector",
    "annotationConnector"
  ],
  "savedDate": 1709329650979
}