{
  "companyId": "9ae7d066-0d23-482b-9b8f-4b5e398acf18",
  "authTokenExpireIds": [],
  "connectorIds": [
    "annotationConnector",
    "pingOneSSOConnector",
    "errorConnector",
    "httpConnector",
    "variablesConnector",
    "functionsConnector"
  ],
  "createdDate": 1711105241810,
  "currentVersion": 5,
  "customerId": "38f1e64332a64e2263c5953d52e846fb",
  "deployedDate": 1711105243303,
  "description": "Imported on Fri Mar 01 2024 21:47:11 GMT+0000 (Coordinated Universal Time)",
  "flowStatus": "enabled",
  "inputSchemaCompiled": {
    "parameters": {
      "type": "object",
      "properties": {
        "p1userId": {
          "description": "",
          "isExpanded": true,
          "preferredDataType": "string",
          "type": "string",
          "name": "p1userId"
        },
        "forgotPassword": {
          "description": "Tells MFA that this is password reset flow",
          "isExpanded": true,
          "preferredDataType": "boolean",
          "type": "boolean",
          "name": "forgotPassword"
        }
      },
      "additionalProperties": false,
      "required": []
    }
  },
  "isInputSchemaSaved": true,
  "isOutputSchemaSaved": false,
  "name": "PingOne SSO Change Password subflow",
  "publishedVersion": 5,
  "settings": {
    "csp": "worker-src 'self' blob:; script-src 'self' https://cdn.jsdelivr.net https://code.jquery.com https://devsdk.singularkey.com http://cdnjs.cloudflare.com 'unsafe-inline' 'unsafe-eval';",
    "intermediateLoadingScreenCSS": "",
    "intermediateLoadingScreenHTML": "",
    "logLevel": 2
  },
  "timeouts": "null",
  "trigger": {},
  "updatedDate": 1711105243304,
  "flowId": "e110a8dd7f48d210b0a9e39f85fe9e3f",
  "versionId": 5,
  "graphData": {
    "elements": {
      "nodes": [
        {
          "data": {
            "id": "9rcs8wlito",
            "nodeType": "ANNOTATION",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "name": "Annotation",
            "status": "configured",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "annotation": {
                "value": "Password Reset Success. Pass userId to Sign On Success"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "backgroundColor": {
                "value": "#e7e7e7ff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 14
              },
              "strokeColor": {
                "value": "#181818ff"
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "width": {
                "value": 400
              }
            }
          },
          "position": {
            "x": 1774,
            "y": 420
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ewypz0au0e",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "resetPassword",
            "type": "action",
            "properties": {
              "currentPassword": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"currentPassword\",\n        \"data\": \"{{local.9dc5l6oo83.payload.output.currentPassword}}\",\n        \"tooltip\": \"{{local.9dc5l6oo83.payload.output.currentPassword}}\",\n        \"children\": [\n          {\n            \"text\": \"currentPassword\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"p1userId\",\n        \"data\": \"{{global.parameters.p1userId}}\",\n        \"tooltip\": \"{{global.parameters.p1userId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1userId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "newPassword": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"newPassword\",\n        \"data\": \"{{local.9dc5l6oo83.payload.output.newPassword}}\",\n        \"tooltip\": \"{{local.9dc5l6oo83.payload.output.newPassword}}\",\n        \"children\": [\n          {\n            \"text\": \"newPassword\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": "Updates the user's password to the new one submitted if current password was validated"
              },
              "nodeTitle": {
                "value": "Update password"
              }
            }
          },
          "position": {
            "x": 1324,
            "y": 510
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6jc6lxftdv",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "vpicb0c5wd": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1474,
            "y": 510
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vpicb0c5wd",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorCallbackSuppress": {
                "value": true
              },
              "errorCode": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"httpResponseCode\",\n        \"data\": \"{{local.ewypz0au0e.payload.error.httpResponseCode}}\",\n        \"tooltip\": \"{{local.ewypz0au0e.payload.error.httpResponseCode}}\",\n        \"children\": [\n          {\n            \"text\": \"httpResponseCode\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "errorDescription": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Failed to update the user's password\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"The current password provided was invalid, please try again\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": "Received an error when trying to update the user's password in PingOne"
              },
              "nodeTitle": {
                "value": "Password update failed"
              }
            }
          },
          "position": {
            "x": 1684,
            "y": 720
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mn74jlfit1",
            "nodeType": "ANNOTATION",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "name": "Annotation",
            "status": "configured",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "annotation": {
                "value": "Password change Error"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 14
              },
              "strokeColor": {
                "value": "#181818ff"
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "width": {
                "value": 240
              }
            }
          },
          "position": {
            "x": 1564,
            "y": 630
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "1t8q6l35he",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createSuccessResponse",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#9dc967ff"
              },
              "nodeTitle": {
                "value": "Return to Master flow"
              },
              "returnRequestParameters": {
                "value": false
              }
            }
          },
          "position": {
            "x": 1984,
            "y": 510
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qbhqkbqcaq",
            "nodeType": "EVAL",
            "properties": {}
          },
          "position": {
            "x": 1804,
            "y": 510
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4g8eit484j",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Start"
              }
            }
          },
          "position": {
            "x": 364,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wnp1tvle7g",
            "nodeType": "ANNOTATION",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "name": "Annotation",
            "status": "configured",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "annotation": {
                "value": "Change Password (know current password)"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "backgroundColor": {
                "value": "#4462edff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 16
              },
              "fontStyle": {
                "value": "bold"
              },
              "width": {
                "value": 1800
              }
            }
          },
          "position": {
            "x": 278,
            "y": 214
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jsttx0b5d6",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "sepborbkxb": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 484,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lknavz7kno",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "caseSensitive": {
                "value": false
              },
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.9dc5l6oo83.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.9dc5l6oo83.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "id": "ykwp1vk616",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CONTINUE\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "id": "6x6zu4ag9m",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 994,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "isytia6d7m",
            "nodeType": "EVAL",
            "properties": {}
          },
          "position": {
            "x": 1144,
            "y": 510
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7xss0t2sst",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {}
          },
          "position": {
            "x": 1144,
            "y": 660
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ogtf6flvbb",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createErrorResponse",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#ffc8c1ff"
              },
              "claimsNameValuePairs": {
                "value": [
                  {
                    "key": 0.21230063121667264,
                    "label": "cancelReturn (boolean - flowInstance)",
                    "name": "cancelReturn",
                    "type": "boolean",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Return to Sign on form"
              }
            }
          },
          "position": {
            "x": 1324,
            "y": 660
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zv4etddvze",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {}
          },
          "position": {
            "x": 1084,
            "y": 750
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "r0r2c5s2qv",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorCode": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Unexpected password state\"\n      }\n    ]\n  }\n]"
              },
              "errorDescription": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"An unexpected password state was received\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"An unexpected error has occurred\"\n      }\n    ]\n  }\n]"
              },
              "errorReason": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Received an unexpected password state value from PingOne\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": "Received an unexpected value for the password status"
              },
              "nodeTitle": {
                "value": "Received an unexpected value"
              }
            }
          },
          "position": {
            "x": 1324,
            "y": 750
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "d7i4xa57p6",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "backgroundColor": {
                "value": "#9dc967ff"
              },
              "buttonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Continue\"\n      }\n    ]\n  }\n]"
              },
              "customCSS": {
                "value": ":root {\n  --animation-dimension: 120px;\n  --animation-start-color: #71e171;\n  --animation-midway-color: #67d067;\n  --animation-finish-color: #59b259;\n}\n\n.checkmark {\n  width: var(--animation-dimension);\n  height: var(--animation-dimension);\n  border-radius: 50%;\n  display: block;\n  stroke-width: 5;\n  stroke: #ffffff;\n  stroke-miterlimit: 10;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\n  animation: fill 0.4s ease-in-out 0.4s forwards,\n    scale 0.3s ease-in-out 0.9s both;\n}\n\n.checkmarkCircle {\n  stroke-dasharray: 166;\n  stroke-dashoffset: 166;\n  stroke-width: 5;\n  stroke-miterlimit: 10;\n  stroke: var(--animation-finish-color);\n  fill: none;\n  animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards,\n    colorChange 1.2s ease-in-out forwards;\n}\n\n.checkmarkCheck {\n  transform-origin: 50% 50%;\n  stroke-dasharray: 48;\n  stroke-dashoffset: 48;\n  animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards,\n    colorChange 0.6s ease-in-out 0.8s forwards;\n}\n\n@keyframes colorChange {\n  0% {\n    stroke: var(--animation-start-color);\n  }\n  50% {\n    stroke: var(--animation-midway-color);\n  } \n  100% {\n    stroke: var(--animation-finish-color);\n  }\n}\n\n@keyframes stroke {\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n@keyframes scale {\n  0%,\n  100% {\n    transform: none;\n  }\n  50% {\n    transform: scale3d(1.1, 1.1, 1);\n  }\n  70% {\n    transform: scale3d(0.98, 0.98, 1);\n  }\n  85% {\n    transform: scale3d(1.02, 1.02, 1);\n  }\n}\n@keyframes fill {\n  100% {\n    box-shadow: inset 0px 0px 0px 0px var(--animation-finish-color);\n  }\n}"
              },
              "customHTML": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"data\": \"[[[skcomponent###c2tjb21wb25lbnQgInNrcG9sbGluZyIgIGNsYXNzPSIiIHBvbGxJbnRlcnZhbD0iMTAwMCIgcG9sbFJldHJpZXM9IjEiIHBvbGxDaGFsbGVuZ2VTdGF0dXM9ImZhbHNlIg==###eyJuYW1lIjoic2twb2xsaW5nIiwib3B0aW9ucyI6eyJjbGFzcyI6IiIsInBvbGxJbnRlcnZhbCI6IjEwMDAiLCJwb2xsUmV0cmllcyI6IjEiLCJwb2xsQ2hhbGxlbmdlU3RhdHVzIjoiZmFsc2UifSwiY29tcG9uZW50UHJvcHMiOnsiY2xhc3MiOnsibmFtZSI6ImNsYXNzIiwiZGlzcGxheU5hbWUiOiJDU1MgQ2xhc3MifSwicG9sbEludGVydmFsIjp7Im5hbWUiOiJwb2xsSW50ZXJ2YWwiLCJkaXNwbGF5TmFtZSI6IlBvbGwgSW50ZXJ2YWwiLCJ2YWx1ZSI6MjAwMH0sInBvbGxSZXRyaWVzIjp7Im5hbWUiOiJwb2xsUmV0cmllcyIsImRpc3BsYXlOYW1lIjoiUG9sbCBSZXRyaWVzIiwidmFsdWUiOjYwfSwicG9sbENoYWxsZW5nZVN0YXR1cyI6eyJuYW1lIjoicG9sbENoYWxsZW5nZVN0YXR1cyIsImRpc3BsYXlOYW1lIjoiUG9sbCBDaGFsbGVuZ2UgU3RhdHVzIiwidHlwZSI6InNlbGVjdCIsInZhbHVlIjoidHJ1ZSIsIm9wdGlvbnMiOlt7Im5hbWUiOiJUcnVlIiwidmFsdWUiOiJ0cnVlIn0seyJuYW1lIjoiRmFsc2UiLCJ2YWx1ZSI6ImZhbHNlIn1dfX19]]]\",\n        \"src\": \"auth.svg\",\n        \"url\": \"skpolling\",\n        \"children\": [\n          {\n            \"text\": \"skpolling\"\n          }\n        ],\n        \"component\": \"skpolling\",\n        \"options\": {\n          \"class\": \"\",\n          \"pollInterval\": \"1000\",\n          \"pollRetries\": \"1\",\n          \"pollChallengeStatus\": \"false\"\n        },\n        \"componentProps\": {\n          \"class\": {\n            \"name\": \"class\",\n            \"displayName\": \"CSS Class\"\n          },\n          \"pollInterval\": {\n            \"name\": \"pollInterval\",\n            \"displayName\": \"Poll Interval\",\n            \"value\": 2000\n          },\n          \"pollRetries\": {\n            \"name\": \"pollRetries\",\n            \"displayName\": \"Poll Retries\",\n            \"value\": 60\n          },\n          \"pollChallengeStatus\": {\n            \"name\": \"pollChallengeStatus\",\n            \"displayName\": \"Poll Challenge Status\",\n            \"type\": \"select\",\n            \"value\": \"true\",\n            \"options\": [\n              {\n                \"name\": \"True\",\n                \"value\": \"true\"\n              },\n              {\n                \"name\": \"False\",\n                \"value\": \"false\"\n              }\n            ]\n          }\n        },\n        \"tooltip\": \"{{component.skpolling}}\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\\n\\n<div class=\\\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\\\">\\n    <div style=\\\"max-width: 400px; min-width: 400px; width: 100%\\\">\\n        <div class=\\\"card shadow mb-5\\\">\\n            <div class=\\\"card-body p-5 d-flex flex-column\\\">\\n                <img class=\\\"companyLogo align-self-center mb-5\\\" alt=\\\"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"companyName\",\n        \"data\": \"{{global.variables.companyName}}\",\n        \"tooltip\": \"{{global.variables.companyName}}\",\n        \"children\": [\n          {\n            \"text\": \"{{global.variables.companyName}}\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\\\" />\\n\\n                {{#if title}}\\n                <h1 class=\\\"text-center mb-4\\\">\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"url:undefined\",\n        \"url\": \"title\",\n        \"data\": \"{{title}}\",\n        \"tooltip\": \"{{title}}\",\n        \"children\": [\n          {\n            \"text\": \"{{title}}\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"</h1>\\n                {{/if}}\\n\\n                <div class=\\\"mx-auto mt-3 mb-4\\\">\\n                    <svg class=\\\"checkmark\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewbox=\\\"0 0 52 52\\\">\\n                        <circle class=\\\"checkmarkCircle\\\" cx=\\\"26\\\" cy=\\\"26\\\" r=\\\"25\\\" fill=\\\"none\\\" />\\n                        <path class=\\\"checkmarkCheck\\\" fill=\\\"none\\\" d=\\\"M14.1 27.2l7.1 7.2 16.7-16.8\\\" />\\n                    </svg>\\n                </div>\\n\\n                {{#if textOne}}\\n                <p class=\\\"text-muted text-center\\\">\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"url:undefined\",\n        \"url\": \"textOne\",\n        \"data\": \"{{textOne}}\",\n        \"tooltip\": \"{{textOne}}\",\n        \"children\": [\n          {\n            \"text\": \"{{textOne}}\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"</p>\\n                {{/if}}\\n\\n                {{#if textTwo}}\\n                <p class=\\\"text-muted text-center\\\">\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"url:undefined\",\n        \"url\": \"textTwo\",\n        \"data\": \"{{textTwo}}\",\n        \"tooltip\": \"{{textTwo}}\",\n        \"children\": [\n          {\n            \"text\": \"{{textTwo}}\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"</p>\\n                {{/if}}\\n\\n                <p class=\\\"text-danger mdi mdi-alert-circle\\\" data-id=\\\"feedback\\\" data-skcomponent=\\\"skerror\\\"></p>\\n\\n                {{#if buttonLabel}}\\n                <div class=\\\"d-flex flex-column\\\">\\n                    <button id=\\\"submitBtn\\\" data-id=\\\"submitBtn\\\" class=\\\"btn btn-primary mb-3\\\" type=\\\"submit\\\" data-skcomponent=\\\"skbutton\\\"\\n                    data-skbuttontype=\\\"next-event\\\" data-skbuttonvalue=\\\"NEXT\\\" >\\n                    \"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"url:undefined\",\n        \"url\": \"buttonLabel\",\n        \"data\": \"{{buttonLabel}}\",\n        \"tooltip\": \"{{buttonLabel}}\",\n        \"children\": [\n          {\n            \"text\": \"{{buttonLabel}}\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\\n                    </button>\\n                </div>\\n                {{/if}}\\n\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n      }\n    ]\n  }\n]"
              },
              "customScript": {},
              "formFieldsList": {
                "value": [
                  {
                    "displayName": "Username",
                    "hashedVisibility": false,
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "username",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "displayName": "Password",
                    "hashedVisibility": true,
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "password",
                    "value": ""
                  }
                ]
              },
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"title\": {\n            \"type\": \"string\",\n            \"displayName\": \"Title\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"title\"\n        },\n\t\"textOne\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text One\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textOne\"\n        },\n\t\"textTwo\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text Two\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textTwo\"\n        },\n        \"buttonLabel\": {\n            \"type\": \"string\",\n            \"displayName\": \"Button Label\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"buttonLabel\"\n        }\n    }\n}"
              },
              "nodeDescription": {
                "value": "Success message with animated checkmark"
              },
              "nodeTitle": {
                "value": "Reset password success"
              },
              "textOne": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \" Your password has been successfully updated\"\n      }\n    ]\n  }\n]"
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Success\"\n      }\n    ]\n  }\n]"
              },
              "validationRules": {
                "value": []
              }
            }
          },
          "position": {
            "x": 1654,
            "y": 510
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6n4l8vsr75",
            "nodeType": "ANNOTATION",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "name": "Annotation",
            "status": "configured",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "annotation": {
                "value": "Update users password"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 14
              },
              "fontStyle": {
                "value": "bold"
              },
              "width": {
                "value": 800
              }
            }
          },
          "position": {
            "x": 1264,
            "y": 330
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5sexxfvtzf",
            "nodeType": "ANNOTATION",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "name": "Annotation",
            "status": "configured",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "annotation": {
                "value": "Display password form"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 14
              },
              "fontStyle": {
                "value": "bold"
              },
              "width": {
                "value": 800
              }
            }
          },
          "position": {
            "x": 304,
            "y": 330
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fcoyvsh1gg",
            "nodeType": "ANNOTATION",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "name": "Annotation",
            "status": "configured",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "annotation": {
                "value": "Input Schema:  none"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "cornerRadius": {
                "value": 8
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 14
              },
              "strokeColor": {
                "value": "#181818ff"
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "width": {
                "value": 400
              }
            }
          },
          "position": {
            "x": 214,
            "y": 360
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9dc5l6oo83",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "buttonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Continue\"\n      }\n    ]\n  }\n]"
              },
              "buttonLabel2": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Cancel\"\n      }\n    ]\n  }\n]"
              },
              "customCSS": {
                "value": ".alignleft {\n    float: left;\n    margin-right: 15px;\n}\n.alignright {\n    float: right;\n    margin-left: 15px;\n}\n.aligncenter {\n    display: block;\n    margin: 0 auto 15px;\n}\na:focus { outline: 0 solid }\nimg {\n    max-width: 100%;\n    height: auto;\n}\n.fix { overflow: hidden }\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    margin: 0 0 15px;\n    font-weight: 700;\n}\nhtml,\nbody { height: 100% }\n\na {\n    -moz-transition: 0.3s;\n    -o-transition: 0.3s;\n    -webkit-transition: 0.3s;\n    transition: 0.3s;\n    color: rgba(220, 220, 220, 0.865);\n}\na:hover { text-decoration: none }\n\n.container {\n    position: relative;\n    max-width: 400px;\n    margin: auto; \n    padding-left: 0 !important;\n    padding-right: 0 !important;\n}\n\n#newPassword {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\n#pswd_info {\n    background: #FFFFFF;\n    color: #000;\n    display: none;\n    padding: 8px;\n    font-size: 0.85rem;\n    border-radius: 4px;\n    box-shadow: 0 4px 8px rgba(0,0,0,0.15);\n    left: 100%;\n    top: 0%;\n    transform: translateY(-90%);\n    z-index: 100;\n    position: absolute;\n    margin-left: 10px;\n    white-space: nowrap;\n    transition: opacity 1s ease-in-out, transform 1s ease-in-out;\n    width: 360px;\n    max-width:360px;\n}\n\n@media (max-width: 767px) {\n    #pswd_info {\n        width: 100%;\n        margin-top: 20px;\n    }\n}\n\n.input-group {\n    position: relative;\n}\n\n#pswd_info ul {\n    list-style: none;\n    padding-left: 0;\n}\n\n#pswd_info li {\n    color: black;\n    position: relative;\n    padding-left: 25px;\n    margin-bottom: 5px;\n    font-size: 12px;\n    display:none;\n}\n\n#pswd_info li.valid {\n    color: green;\n}\n\n#pswd_info {\n    display:none;\n}\n\n.text-red {\n    color:red !important;\n}\n\n.text-12 {\n    font-size:12px;\n}\n"
              },
              "customHTML": {
                "value": "<div class=\"end-user-nano\">\n  <div\n    class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\">\n    <div style=\"max-width: 400px; min-width: 400px; width: 100%\">\n      <div class=\"card shadow mb-5\">\n        <div class=\"card-body p-5 d-flex flex-column\">\n          <img class=\"companyLogo align-self-center mb-5\" alt=\"{{global.variables.companyName}}\" />\n\n        {{#if title}}\n          <h1 class=\"text-center mb-4\">{{title}}</h1>\n          {{/if}}\n\n          {{#if textOne}}\n          <p class=\"text-muted text-center\">{{textOne}}</p>\n          {{/if}}\n\n          {{#if textTwo}}\n          <p class=\"text-muted text-center\">{{textTwo}}</p>\n          {{/if}}\n\n          <p id=\"feedback\" data-id=\"feedback\" class=\"text-danger mdi mdi-alert-circle\" data-skcomponent=\"skerror\"></p>\n          <form id=\"recoveryCodeForm\" data-id=\"recoveryCodeForm\">\n            <div id=\"newfield\" class=\"mb-3 form-floating\">\n              <input id=\"currentPassword\" data-id=\"currentPassword\" class=\"form-control\" type=\"password\" name=\"currentPassword\"\n                        placeholder=\"currentPassword\" autocomplete=\"off\" value=\"\" />\n              <label class=\"form-label\" for=\"currentPassword\">Current Password</label>\n            </div>\n            <p class=\"text text-red text-12\" data-skerrorid=\"currentPassword\" data-skcomponent=\"skerrormessage\"></p>\n            <!-- Do not touch the container, any other inputs go above this line -->\n            <div class=\"container\">\n              <div id=\"passwordContainer\" class=\"mb-3 form-floating\">\n                <input id=\"newPassword\" data-id=\"newPassword\" class=\"form-control\" type=\"password\" name=\"newPassword\"\n                        placeholder=\"newPassword\" autocomplete=\"off\" value=\"\" />\n                <label class=\"form-label\" for=\"newPassword\">New Password</label>\n              </div>\n              <div id=\"confirmPasswordContainer\" class=\"mb-3 form-floating\">\n                <input id=\"confirmPassword\" data-id=\"confirmPassword\" class=\"form-control\" type=\"password\" name=\"confirmPassword\"\n                        placeholder=\"confirmPassword\" autocomplete=\"off\" value=\"\" />\n                <label class=\"form-label\" for=\"confirmPassword\">Confirm Password</label>\n              </div>\n              <p id=\"matchFeedback\" class=\"text text-red text-12\" style=\"display:none;\">Password fields must match</p>\n              <div class=\"aro-pswd_info\">\n                <div id=\"pswd_info\">\n                  <h4 class=\"text-muted text-center\">Minimum Password Requirements:</h4>\n                  <ul>\n                    <li id=\"similar\" class=\"invalid\">Differs from current password</li>\n                    <li id=\"repeating\" class=\"invalid\">No more than 2 repeating characters</li>\n                    <li id=\"unique\" class=\"invalid\">Five unique characters</li>\n                    <li id=\"letter\" class=\"invalid\">One lowercase character</li>\n                    <li id=\"capital\" class=\"invalid\">One UPPERCASE character</strong></li>\n                    <li id=\"number\" class=\"invalid\">One number</strong></li>\n                    <li id=\"length\" class=\"invalid\">From 8 to 255 characters</li>\n                    <li id=\"space\" class=\"invalid\">One special characters: ~!@#$%^&*()-_=+[]{}|;:,.<>/?</strong></li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            {{#if buttonLabel}}\n            <div class=\"d-flex flex-column\">\n              <button id=\"submitBtn\" data-id=\"submitBtn\" class=\"btn btn-primary mb-3\" type=\"submit\" data-skcomponent=\"skbutton\"\n              data-skbuttontype=\"form-submit\" data-skform=\"recoveryCodeForm\" data-skbuttonvalue=\"CONTINUE\" disabled>\n               {{buttonLabel}}\n            </button>\n            </div>\n            {{/if}}\n            {{#if buttonLabel2}}\n            <div class=\"d-flex flex-column\">\n              <button id=\"cancelBtn\" data-id=\"cancelBtn\" class=\"btn btn-link\" type=\"submit\" data-skcomponent=\"skbutton\"\n              data-skbuttontype=\"next-event\" data-skform=\"recoveryCodeForm\" data-skbuttonvalue=\"CANCEL\">\n              {{buttonLabel2}}\n            </button>\n            </div>\n            {{/if}}\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"
              },
              "customScript": {
                "value": "const pswdPolicy = {{global.company.variables.gv-p1PasswordPolicy}};\r\nlet confirmPasswordFocused = false;\r\n\r\n    var minCharacters = pswdPolicy.minCharacters;\r\n\r\n    // Update rules based on the JSON object\r\n    if (minCharacters.hasOwnProperty(\"abcdefghijklmnopqrstuvwxyz\")) {\r\n        document.getElementById(\"letter\").style.display = \"block\";\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\")) {\r\n        document.getElementById(\"capital\").style.display = \"block\";\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"0123456789\")) {\r\n        document.getElementById(\"number\").style.display = \"block\";\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"~!@#$%^&*()-_=+[]{}|;:,.<>/?\")) {\r\n        document.getElementById(\"space\").style.display = \"block\";\r\n    }\r\n    if (pswdPolicy.notSimilarToCurrent) {\r\n        document.getElementById(\"similar\").style.display = \"block\";\r\n    }\r\n    if (pswdPolicy.minUniqueCharacters) {\r\n        document.getElementById(\"unique\").style.display = \"block\";\r\n    }\r\n    if (pswdPolicy.maxRepeatedCharacters) {\r\n        document.getElementById(\"repeating\").style.display = \"block\";\r\n    }\r\n    if (pswdPolicy.length) {\r\n        document.getElementById(\"length\").style.display = \"block\";\r\n    }\r\n\r\n$('#newPassword').keyup(function() {\r\n    var pswd = $(this).val();\r\n    var allRequirementsMet = true;\r\n\r\n    if (pswd.length > 0)\r\n    {\r\n        $('#pswd_info').show();\r\n        $('')\r\n    } else{\r\n        $('#pswd_info').hide();\r\n    }\r\n    \r\n if (minCharacters.hasOwnProperty(\"abcdefghijklmnopqrstuvwxyz\")) {\r\n        var letterReqMet = /[a-z]/.test(pswd);\r\n        allRequirementsMet = allRequirementsMet && letterReqMet;\r\n        updateRequirement('#letter', letterReqMet);\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\")) {\r\n        var capitalReqMet = /[A-Z]/.test(pswd);\r\n        allRequirementsMet = allRequirementsMet && capitalReqMet;\r\n        updateRequirement('#capital', capitalReqMet);\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"0123456789\")) {\r\n        var numberReqMet = /\\d/.test(pswd);\r\n        allRequirementsMet = allRequirementsMet && numberReqMet;\r\n        updateRequirement('#number', numberReqMet);\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"~!@#$%^&*()-_=+[]{}|;:,.<>/?\")) {\r\n        var spaceReqMet = /[^a-zA-Z0-9\\-\\/]/.test(pswd);\r\n        allRequirementsMet = allRequirementsMet && spaceReqMet;\r\n        updateRequirement('#space', spaceReqMet);\r\n    }\r\n    if (pswdPolicy.minUniqueCharacters) {\r\n        var uniqueReqMet = new Set(pswd).size >= pswdPolicy.minUniqueCharacters;\r\n        allRequirementsMet = allRequirementsMet && uniqueReqMet;\r\n        updateRequirement('#unique', uniqueReqMet);\r\n    }\r\n      if (pswdPolicy.maxRepeatedCharacters) {\r\n        // Check if the password is not empty and does not contain repeating characters\r\n        var repeatingReqMet = pswd.length > 0 && !/(.)\\1{2,}/.test(pswd);\r\n        allRequirementsMet = allRequirementsMet && repeatingReqMet;\r\n        updateRequirement('#repeating', repeatingReqMet);\r\n    }\r\n    if (pswdPolicy.length) {\r\n        var lengthReqMet = pswd.length >= pswdPolicy.length.min;\r\n        allRequirementsMet = allRequirementsMet && lengthReqMet;\r\n        updateRequirement('#length', lengthReqMet);\r\n    }\r\n    \r\n\r\n    \r\n\r\n    // Update border color based on overall status\r\n    if (allRequirementsMet) {\r\n        $('#pswd_info').css('border', '1px solid #d6ffe7');\r\n        $('#newPassword').css('border', '1px solid #8b9197');\r\n    } else {\r\n        $('#pswd_info').css('border', ''); // Reset to default or previous style\r\n        $('#newPassword').css('border', '1px solid red');\r\n    }\r\n    if (confirmPasswordFocused) {\r\n        validatePasswords();\r\n    }\r\n\r\n    enableSubmitButton(); // Check all conditions and enable/disable the submit button\r\n\r\n}).focus(function() {\r\n    var pswd = $(this).val();\r\n    console.log(pswd.length);\r\n    if (pswd.length > 0)\r\n    {\r\n        $('#pswd_info').show();\r\n    } else{\r\n        $('#pswd_info').hide();\r\n    }\r\n}).blur(function() {\r\n    $('#pswd_info').hide();\r\n});\r\n\r\nfunction updateRequirement(selector, isValid) {\r\n    var element = $(selector);\r\n    var originalText = element.text().replace(/<[^>]*>/g, ''); // Remove HTML to keep the original text\r\n\r\n    if (isValid) {\r\n        element.addClass('valid').html('<i class=\"mdi mdi-check-circle\"></i> ' + originalText);\r\n    } else {\r\n        element.removeClass('valid').html(originalText);\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\nconst confirmPasswordInput = document.getElementById(\"confirmPassword\");\r\nconst matchFeedback = document.getElementById(\"matchFeedback\");\r\n\r\nfunction validatePasswords() {\r\n    const newPassword = document.getElementById(\"newPassword\").value;\r\n    const confirmPassword = confirmPasswordInput.value;\r\n\r\n    if (newPassword === confirmPassword) {\r\n        matchFeedback.style.display = \"none\";\r\n        $('#confirmPassword').css('border', '1px solid #8b9197');\r\n    } else {\r\n        matchFeedback.style.display = \"block\";\r\n        $('#confirmPassword').css('border', '1px solid red');\r\n    }\r\n}\r\n// Add a focus event listener to \"confirmPassword\" field\r\n$('#confirmPassword').on('focus', function() {\r\n    confirmPasswordFocused = true;\r\n});\r\n\r\n// Add a blur event listener to \"confirmPassword\" field\r\n$('#confirmPassword').on('blur', function() {\r\n    confirmPasswordFocused = false;\r\n});\r\n\r\n// Add an input event listener to \"confirmPassword\" field\r\n$('#confirmPassword').on('input', function() {\r\n    // Validate passwords when \"confirmPassword\" input changes\r\n    if (confirmPasswordFocused) {\r\n        validatePasswords();\r\n        enableSubmitButton(); // Check all conditions and enable/disable the submit button\r\n\r\n    }\r\n});\r\n\r\nfunction enableSubmitButton() {\r\n    var pswd = $('#newPassword').val();\r\n    var allRequirementsMet = true;\r\n\r\n       if (minCharacters.hasOwnProperty(\"abcdefghijklmnopqrstuvwxyz\")) {\r\n        allRequirementsMet = allRequirementsMet && updateRequirement('#letter', /[a-z]/.test(pswd));\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\")) {\r\n        allRequirementsMet = allRequirementsMet && updateRequirement('#capital', /[A-Z]/.test(pswd));\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"0123456789\")) {\r\n        allRequirementsMet = allRequirementsMet && updateRequirement('#number', /\\d/.test(pswd));\r\n    }\r\n    if (minCharacters.hasOwnProperty(\"~!@#$%^&*()-_=+[]{}|;:,.<>/?\")) {\r\n        allRequirementsMet = allRequirementsMet && updateRequirement('#space', /[^a-zA-Z0-9\\-\\/]/.test(pswd));\r\n    }\r\n    if (pswdPolicy.minUniqueCharacters) {\r\n        allRequirementsMet = allRequirementsMet && updateRequirement('#unique', new Set(pswd).size >= 5);\r\n    }\r\n    if (pswdPolicy.maxRepeatedCharacters) {\r\n        allRequirementsMet = allRequirementsMet && updateRequirement('#repeating', !/(.)\\1{2,}/.test(pswd));\r\n    }\r\n    if (pswdPolicy.length) {\r\n        allRequirementsMet = allRequirementsMet && updateRequirement('#length', pswd.length >= pswdPolicy.length.min);\r\n    }\r\n\r\n    var newPassword = $('#newPassword').val();\r\n    var confirmPassword = $('#confirmPassword').val();\r\n    var passwordsMatch = newPassword === confirmPassword;\r\n\r\n   \r\n\r\n    if (allRequirementsMet && passwordsMatch) {\r\n        $('#submitBtn').prop('disabled', false);\r\n    } else {\r\n        $('#submitBtn').prop('disabled', true);\r\n    }\r\n\r\n    // Enable or disable the submit button based on both conditions\r\n    if (allRequirementsMet && passwordsMatch) {\r\n        $('#submitBtn').prop('disabled', false); // Enable the submit button\r\n    } else {\r\n        $('#submitBtn').prop('disabled', true); // Disable the submit button\r\n    }\r\n\r\n    if (confirmPasswordFocused) {\r\n        validatePasswords();\r\n    }\r\n}\r\n\r\nenableSubmitButton();\r\n\r\nconst focusOnFirstInputElement = () => {\r\n    document.getElementById(\"newPassword\").focus();\r\n};\r\n\r\nfunction makePasswordToggle(id) {\r\n    var container = document.getElementById(id);\r\n    var password = container.getElementsByTagName(\"input\")[0];\r\n    var toggler = document.createElement(\"button\");\r\n    toggler.setAttribute(\"type\", \"button\");\r\n    toggler.setAttribute(\"aria-label\", \"Show/Hide Password\");\r\n    toggler.className = \"btn mdi mdi-eye-off-outline position-absolute end-0 top-50 translate-middle-y\";\r\n    container.appendChild(toggler);\r\n\r\n    function showHidePassword() {\r\n        if (password.type == \"password\") {\r\n            password.setAttribute(\"type\", \"text\");\r\n            toggler.classList.add(\"mdi-eye-outline\");\r\n            toggler.classList.remove(\"mdi-eye-off-outline\");\r\n        } else {\r\n            toggler.classList.add(\"mdi-eye-off-outline\");\r\n            toggler.classList.remove(\"mdi-eye-outline\");\r\n            password.setAttribute(\"type\", \"password\");\r\n        }\r\n        password.focus();\r\n    };\r\n\r\n    toggler.addEventListener(\"click\", showHidePassword);\r\n}\r\n\r\nfunction start() {\r\n    makePasswordToggle(\"passwordContainer\");\r\n    makePasswordToggle(\"confirmPasswordContainer\");\r\n    focusOnFirstInputElement();\r\n}\r\n\r\nif (document.readyState === \"loading\") {\r\n    // Loading hasn't finished yet\r\n    document.addEventListener(\"DOMContentLoaded\", start);\r\n} else {\r\n    // `DOMContentLoaded` has already fired\r\n    start();\r\n}"
              },
              "formFieldsList": {
                "value": [
                  {
                    "displayName": "New Password",
                    "hashedVisibility": true,
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "newPassword",
                    "value": ""
                  },
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "displayName": "Current Password",
                    "hashedVisibility": true,
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "currentPassword",
                    "value": ""
                  }
                ]
              },
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"title\": {\n            \"type\": \"string\",\n            \"displayName\": \"Title\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"title\"\n        },\n    \"textOne\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text One\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textOne\"\n        },\n    \"textTwo\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text Two\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"textTwo\"\n        },\n        \"buttonLabel\": {\n            \"type\": \"string\",\n            \"displayName\": \"Button Label\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"buttonLabel\"\n        },\n        \"buttonLabel2\": {\n            \"type\": \"string\",\n            \"displayName\": \"Button Label2\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"buttonLabel2\"\n        }\n    }\n}"
              },
              "nextButtonText": {
                "value": "Sign On"
              },
              "nodeDescription": {
                "value": "Password tooltip"
              },
              "nodeTitle": {
                "value": "Set New Password "
              },
              "textOne": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Enter your current and new password below\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Change Password\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "validationRules": {
                "value": [
                  {
                    "propertyName": "currentPassword",
                    "rules": [
                      {
                        "message": "Current Password is required",
                        "ruleName": "presence"
                      }
                    ]
                  }
                ]
              }
            }
          },
          "position": {
            "x": 660,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xwx7u3wi2w",
            "nodeType": "EVAL",
            "properties": {}
          },
          "position": {
            "x": 780,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        }
      ],
      "edges": [
        {
          "data": {
            "id": "rsa4rxnl7u",
            "source": "d7i4xa57p6",
            "target": "qbhqkbqcaq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ch5lktga3t",
            "source": "6jc6lxftdv",
            "target": "d7i4xa57p6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "joaah6vfdp",
            "source": "lknavz7kno",
            "target": "isytia6d7m",
            "multiValueSourceId": "ykwp1vk616"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rhhu3ghpz7",
            "source": "jsttx0b5d6",
            "target": "9dc5l6oo83"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kmamr8saty",
            "source": "isytia6d7m",
            "target": "ewypz0au0e"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4in2vas6oc",
            "source": "lknavz7kno",
            "target": "zv4etddvze",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "w5zljxi23e",
            "source": "lknavz7kno",
            "target": "7xss0t2sst",
            "multiValueSourceId": "6x6zu4ag9m"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "89va0sg5di",
            "source": "ewypz0au0e",
            "target": "6jc6lxftdv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "uj9m2z52a6",
            "source": "qbhqkbqcaq",
            "target": "1t8q6l35he"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "j1f9dytoef",
            "source": "4g8eit484j",
            "target": "jsttx0b5d6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vt1t79edsw",
            "source": "7xss0t2sst",
            "target": "ogtf6flvbb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "qxjmq9f6ud",
            "source": "zv4etddvze",
            "target": "r0r2c5s2qv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "u9bygt6nmb",
            "source": "9dc5l6oo83",
            "target": "xwx7u3wi2w"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "02y31r7a4e",
            "source": "6jc6lxftdv",
            "target": "vpicb0c5wd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vpoplach1m",
            "source": "xwx7u3wi2w",
            "target": "lknavz7kno"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        }
      ]
    },
    "data": {},
    "zoomingEnabled": true,
    "userZoomingEnabled": true,
    "zoom": 1,
    "minZoom": 1e-50,
    "maxZoom": 1e+50,
    "panningEnabled": true,
    "userPanningEnabled": true,
    "pan": {
      "x": 0,
      "y": 0
    },
    "boxSelectionEnabled": true,
    "renderer": {
      "name": "null"
    }
  },
  "inputSchema": [
    {
      "description": "",
      "isExpanded": true,
      "preferredControlType": "textField",
      "preferredDataType": "string",
      "propertyName": "p1userId"
    },
    {
      "description": "Tells MFA that this is password reset flow",
      "isExpanded": true,
      "preferredControlType": "textField",
      "preferredDataType": "boolean",
      "propertyName": "forgotPassword"
    }
  ],
  "flowColor": "#ff661c",
  "savedDate": 1711105241360,
  "variables": [
    {
      "context": "flowInstance",
      "createdDate": 1711103267292,
      "customerId": "38f1e64332a64e2263c5953d52e846fb",
      "fields": {
        "type": "string",
        "displayName": null,
        "mutable": true,
        "min": 0,
        "max": 2000
      },
      "type": "property",
      "visibility": "private",
      "name": "companyName##SK##flowInstance",
      "companyId": "9ae7d066-0d23-482b-9b8f-4b5e398acf18"
    },
    {
      "context": "company",
      "createdDate": 1711103267315,
      "customerId": "38f1e64332a64e2263c5953d52e846fb",
      "fields": {
        "type": "object",
        "displayName": "Password Policy, pulled from PingOne",
        "value": "{\"default\":true,\"description\":\"A standard policy that incorporates industry best practices\",\"environment\":{\"id\":\"9ae7d066-0d23-482b-9b8f-4b5e398acf18\"},\"excludesCommonlyUsed\":true,\"excludesProfileData\":true,\"history\":{\"count\":6,\"retentionDays\":365},\"id\":\"3528fb8a-44a4-4d83-b74e-361172276907\",\"length\":{\"max\":255,\"min\":8},\"lockout\":{\"durationSeconds\":900,\"failureCount\":5},\"maxAgeDays\":22,\"minCharacters\":{\"0123456789\":1,\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\":1,\"abcdefghijklmnopqrstuvwxyz\":1,\"~!@#$%^&*()-_=+[]{}|;:,.<>/?\":1},\"name\":\"Standard\",\"notSimilarToCurrent\":true,\"populationCount\":0}",
        "mutable": true,
        "min": 0,
        "max": 2000
      },
      "type": "property",
      "visibility": "private",
      "name": "gv-p1PasswordPolicy##SK##company",
      "companyId": "9ae7d066-0d23-482b-9b8f-4b5e398acf18"
    }
  ],
  "connections": []
}